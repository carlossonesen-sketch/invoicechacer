# Firebase Configuration
# Get these values from Firebase Console > Project Settings > Your apps
# See README.md for detailed instructions

NEXT_PUBLIC_DEV_TOOLS=1

# Replace these with your actual Firebase project values
NEXT_PUBLIC_FIREBASE_API_KEY=YOUR_FIREBASE_API_KEY
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your-project-id
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=your-project.appspot.com
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=123456789012
NEXT_PUBLIC_FIREBASE_APP_ID=1:123456789012:web:abc123def456

# Firebase Admin SDK (for server-side token verification)
# Use scripts/service-account-to-env.ps1 to convert serviceAccountKey.json to this format
# See README.md for instructions
# This must be a single-line JSON string (no newlines between the braces)
# The private_key (REMOVED) field will have escaped newlines (\n) which are automatically handled
# 
# IMPORTANT: Replace the placeholder below with your actual service account JSON
# DO NOT commit real credentials to the repository

FIREBASE_SERVICE_ACCOUNT_KEY=<PASTE_SERVICE_ACCOUNT_JSON_HERE>

# Email Configuration (Production Test Mode)
# These settings control outbound invoice and chase email sending
# See src/lib/email/ for implementation details

# Kill switches: EMAIL_SENDING_ENABLED must be true for emails to send
# When false, emails are logged but not sent (safe for production testing)
EMAIL_SENDING_ENABLED=false

# DRY RUN mode: When true, logs email sends but does not deliver
# This is a global override that applies to all email types
EMAIL_DRY_RUN=false

# Auto-chase specific settings
AUTOCHASE_ENABLED=false
AUTOCHASE_DRY_RUN=true

# Rate limiting defaults
MAX_EMAILS_PER_DAY_PER_USER=25
MAX_EMAILS_PER_DAY_GLOBAL=200
EMAIL_COOLDOWN_MINUTES=60

# Developer override: Set to 0 to disable cooldown for testing
# This overrides the plan-based cooldown (useful for local development)
EMAIL_COOLDOWN_MINUTES_OVERRIDE=0

# Domain allowlist: Comma-separated list of allowed recipient domains
# If recipient domain is not in this list, email is redirected to TEST_REDIRECT_EMAIL
# Leave empty to allow all domains (backward compatibility)
ALLOWED_RECIPIENT_DOMAINS=gmail.com,yourdomain.com

# Test redirect: Email address to receive emails for non-allowlisted domains
# Original recipient is preserved in emailEvents.originalTo
TEST_REDIRECT_EMAIL=test-inbox@yourdomain.com
